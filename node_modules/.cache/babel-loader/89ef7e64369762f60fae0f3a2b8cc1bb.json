{"ast":null,"code":"import _regeneratorRuntime from\"/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Header from'../components/Header';import MusicCard from'../components/MusicCard';import{getFavoriteSongs}from'../services/favoriteSongsAPI';import'../styles/Favorites.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Favorites=/*#__PURE__*/function(_React$Component){_inherits(Favorites,_React$Component);var _super=_createSuper(Favorites);function Favorites(){var _this;_classCallCheck(this,Favorites);_this=_super.call(this);_this.recoverFavorites=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var favSongs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getFavoriteSongs();case 2:favSongs=_context.sent;_this.setState({favoriteSongs:favSongs});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.state={favoriteSongs:[]};return _this;}_createClass(Favorites,[{key:\"componentDidMount\",value:function componentDidMount(){this.recoverFavorites();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){// Importante para que, quando uma música favorita for removida, ela pare de ser renderizada na página.\nthis.recoverFavorites();}},{key:\"render\",value:function render(){var favoriteSongs=this.state.favoriteSongs;return/*#__PURE__*/_jsxs(\"div\",{id:\"page-favorites\",\"data-testid\":\"page-favorites\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{id:\"favoritesPageMain\",children:favoriteSongs.map(function(microObj){return/*#__PURE__*/_jsxs(\"div\",{className:\"eachFavTrack\",children:[/*#__PURE__*/_jsx(\"img\",{src:microObj.artworkUrl60,alt:microObj.collectionName}),/*#__PURE__*/_jsx(\"span\",{id:\"artistNameFav\",children:microObj.artistName}),/*#__PURE__*/_jsx(MusicCard,{trackInfo:microObj},microObj.trackId)]},microObj.trackId);})})]});}}]);return Favorites;}(React.Component);export default Favorites;","map":{"version":3,"sources":["/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/src/pages/Favorites.jsx"],"names":["React","Header","MusicCard","getFavoriteSongs","Favorites","recoverFavorites","favSongs","setState","favoriteSongs","state","map","microObj","artworkUrl60","collectionName","artistName","trackId","Component"],"mappings":"mtCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,OAASC,gBAAT,KAAiC,8BAAjC,CACA,MAAO,yBAAP,C,2FAEMC,CAAAA,S,kHACJ,oBAAc,2CACZ,wBADY,MAgBdC,gBAhBc,sEAgBK,sKACMF,CAAAA,gBAAgB,EADtB,QACXG,QADW,eAGjB,MAAKC,QAAL,CAAc,CACZC,aAAa,CAAEF,QADH,CAAd,EAHiB,sDAhBL,GAGZ,MAAKG,KAAL,CAAa,CACXD,aAAa,CAAE,EADJ,CAAb,CAHY,aAMb,C,uDAED,4BAAoB,CAClB,KAAKH,gBAAL,GACD,C,kCAED,6BAAqB,CAAE;AACrB,KAAKA,gBAAL,GACD,C,sBAUD,iBAAS,CACP,GAAQG,CAAAA,aAAR,CAA0B,KAAKC,KAA/B,CAAQD,aAAR,CAEA,mBACE,aAAK,EAAE,CAAC,gBAAR,CAAyB,cAAY,gBAArC,wBACE,KAAC,MAAD,IADF,cAEE,aAAM,EAAE,CAAC,mBAAT,UACGA,aAAa,CAACE,GAAd,CAAkB,SAACC,QAAD,qBACjB,aAA8B,SAAS,CAAC,cAAxC,wBACE,YAAK,GAAG,CAAGA,QAAQ,CAACC,YAApB,CAAmC,GAAG,CAAGD,QAAQ,CAACE,cAAlD,EADF,cAEE,aAAM,EAAE,CAAC,eAAT,UAA4BF,QAAQ,CAACG,UAArC,EAFF,cAGE,KAAC,SAAD,EAAW,SAAS,CAAGH,QAAvB,EAAwCA,QAAQ,CAACI,OAAjD,CAHF,GAAWJ,QAAQ,CAACI,OAApB,CADiB,EAAlB,CADH,EAFF,GADF,CAcD,C,uBA1CqBf,KAAK,CAACgB,S,EA6C9B,cAAeZ,CAAAA,SAAf","sourcesContent":["import React from 'react';\nimport Header from '../components/Header';\nimport MusicCard from '../components/MusicCard';\nimport { getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport '../styles/Favorites.css';\n\nclass Favorites extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      favoriteSongs: [],\n    };\n  }\n\n  componentDidMount() {\n    this.recoverFavorites();\n  }\n\n  componentDidUpdate() { // Importante para que, quando uma música favorita for removida, ela pare de ser renderizada na página.\n    this.recoverFavorites();\n  }\n\n  recoverFavorites = async () => { // Engloba, entre outras coisas, a função assíncrona getFavoriteSongs(). Essa última, recupera o array de objetos referente às músicas favoritas, que estão salvas no local storage.\n    const favSongs = await getFavoriteSongs();\n\n    this.setState({\n      favoriteSongs: favSongs,\n    });\n  }\n\n  render() {\n    const { favoriteSongs } = this.state;\n\n    return (\n      <div id=\"page-favorites\" data-testid=\"page-favorites\">\n        <Header />\n        <main id=\"favoritesPageMain\">\n          {favoriteSongs.map((microObj) => (\n            <div key={ microObj.trackId } className=\"eachFavTrack\">\n              <img src={ microObj.artworkUrl60 } alt={ microObj.collectionName } />\n              <span id=\"artistNameFav\" >{ microObj.artistName }</span>\n              <MusicCard trackInfo={ microObj } key={ microObj.trackId } />\n            </div>\n          ))}\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default Favorites;\n"]},"metadata":{},"sourceType":"module"}