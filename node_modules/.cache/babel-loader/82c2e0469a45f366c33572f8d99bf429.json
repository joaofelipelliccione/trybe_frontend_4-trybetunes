{"ast":null,"code":"import _regeneratorRuntime from\"/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Header from'../components/Header';import getMusics from'../services/musicsAPI';import MusicCard from'../components/MusicCard';import'../styles/Album.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Album=/*#__PURE__*/function(_React$Component){_inherits(Album,_React$Component);var _super=_createSuper(Album);function Album(){var _this;_classCallCheck(this,Album);_this=_super.call(this);_this.getMusicsFromAlbum=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var id,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Engloba, entre outras coisas, a função assíncrona getMusics(). Essa última, realiza uma requisição para a API do Itunes que retorna um array de objetos onde, cada objeto, diz respeito à uma música de um determinado álbum.\nid=_this.props.match.params.id;// O id é uma informação acumulada pelo próprio <Route /> que encapsula o componente React de classe \"Album\".\n_context.next=3;return getMusics(id);case 3:response=_context.sent;_this.setState({// O primeiro elemento do array (índice 0), oriundo da response, acumula informações do album e não de uma música específica, como ocorre nos elementos de índice >= 1.\nmusics:response,albumImg:response[0].artworkUrl100,albumName:response[0].collectionName,artist:response[0].artistName});case 5:case\"end\":return _context.stop();}}},_callee);}));_this.state={musics:[]};return _this;}_createClass(Album,[{key:\"componentDidMount\",value:function componentDidMount(){this.getMusicsFromAlbum();}},{key:\"render\",value:function render(){var _this$state=this.state,musics=_this$state.musics,albumImg=_this$state.albumImg,albumName=_this$state.albumName,artist=_this$state.artist;return/*#__PURE__*/_jsxs(\"div\",{id:\"page-album\",\"data-testid\":\"page-album\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"main\",{id:\"albumPageMain\",children:[/*#__PURE__*/_jsxs(\"section\",{id:\"albumInfoContainer\",children:[/*#__PURE__*/_jsx(\"img\",{src:albumImg,alt:albumName}),/*#__PURE__*/_jsx(\"h4\",{\"data-testid\":\"album-name\",children:albumName}),/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"artist-name\",children:artist})]}),/*#__PURE__*/_jsx(\"section\",{id:\"tracksListContainer\",children:musics.map(function(microObj,index){return index>0&&/*#__PURE__*/_jsx(MusicCard,{trackInfo:microObj},microObj.trackId)// O primeiro elemento do array (índice 0) acumula informações do album e não de uma música específica.\n;})})]})]});}}]);return Album;}(React.Component);export default Album;","map":{"version":3,"sources":["/home/joaofelipe/joaofelipelliccione_projetos-trybe/2-Frontend/trybe_frontend_4-trybetunes/src/pages/Album.jsx"],"names":["React","Header","getMusics","MusicCard","Album","getMusicsFromAlbum","id","props","match","params","response","setState","musics","albumImg","artworkUrl100","albumName","collectionName","artist","artistName","state","map","microObj","index","trackId","Component"],"mappings":"mtCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAO,qBAAP,C,2FAEMC,CAAAA,K,0GACJ,gBAAc,uCACZ,wBADY,MAYdC,kBAZc,sEAYO,mJAAc;AACNC,EADR,CACmB,MAAKC,KADxB,CACXC,KADW,CACFC,MADE,CACQH,EADR,CAC+B;AAD/B,sBAGIJ,CAAAA,SAAS,CAACI,EAAD,CAHb,QAGbI,QAHa,eAKnB,MAAKC,QAAL,CAAc,CAAE;AACdC,MAAM,CAAEF,QADI,CAEZG,QAAQ,CAAEH,QAAQ,CAAC,CAAD,CAAR,CAAYI,aAFV,CAGZC,SAAS,CAAEL,QAAQ,CAAC,CAAD,CAAR,CAAYM,cAHX,CAIZC,MAAM,CAAEP,QAAQ,CAAC,CAAD,CAAR,CAAYQ,UAJR,CAAd,EALmB,sDAZP,GAGZ,MAAKC,KAAL,CAAa,CACXP,MAAM,CAAE,EADG,CAAb,CAHY,aAMb,C,mDAED,4BAAoB,CAClB,KAAKP,kBAAL,GACD,C,sBAeD,iBAAS,CACP,gBAAgD,KAAKc,KAArD,CAAQP,MAAR,aAAQA,MAAR,CAAgBC,QAAhB,aAAgBA,QAAhB,CAA0BE,SAA1B,aAA0BA,SAA1B,CAAqCE,MAArC,aAAqCA,MAArC,CACA,mBACE,aAAK,EAAE,CAAC,YAAR,CAAqB,cAAY,YAAjC,wBACE,KAAC,MAAD,IADF,cAEE,cAAM,EAAE,CAAC,eAAT,wBACE,iBAAS,EAAE,CAAC,oBAAZ,wBACE,YAAK,GAAG,CAAGJ,QAAX,CAAsB,GAAG,CAAGE,SAA5B,EADF,cAEE,WAAI,cAAY,YAAhB,UAA+BA,SAA/B,EAFF,cAGE,UAAG,cAAY,aAAf,UAA+BE,MAA/B,EAHF,GADF,cAME,gBAAS,EAAE,CAAC,qBAAZ,UACGL,MAAM,CAACQ,GAAP,CAAW,SAACC,QAAD,CAAWC,KAAX,QACVA,CAAAA,KAAK,CAAG,CAAR,eAAa,KAAC,SAAD,EAAW,SAAS,CAAGD,QAAvB,EAAwCA,QAAQ,CAACE,OAAjD,CACb;AAFU,EAAX,CADH,EANF,GAFF,GADF,CAkBD,C,mBA9CiBvB,KAAK,CAACwB,S,EAyD1B,cAAepB,CAAAA,KAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport getMusics from '../services/musicsAPI';\nimport MusicCard from '../components/MusicCard';\nimport '../styles/Album.css';\n\nclass Album extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      musics: [],\n    };\n  }\n\n  componentDidMount() {\n    this.getMusicsFromAlbum();\n  }\n\n  getMusicsFromAlbum = async () => { // Engloba, entre outras coisas, a função assíncrona getMusics(). Essa última, realiza uma requisição para a API do Itunes que retorna um array de objetos onde, cada objeto, diz respeito à uma música de um determinado álbum.\n    const { match: { params: { id } } } = this.props; // O id é uma informação acumulada pelo próprio <Route /> que encapsula o componente React de classe \"Album\".\n\n    const response = await getMusics(id);\n\n    this.setState({ // O primeiro elemento do array (índice 0), oriundo da response, acumula informações do album e não de uma música específica, como ocorre nos elementos de índice >= 1.\n      musics: response,\n      albumImg: response[0].artworkUrl100,\n      albumName: response[0].collectionName,\n      artist: response[0].artistName,\n    });\n  }\n\n  render() {\n    const { musics, albumImg, albumName, artist } = this.state;\n    return (\n      <div id=\"page-album\" data-testid=\"page-album\">\n        <Header />\n        <main id=\"albumPageMain\">\n          <section id=\"albumInfoContainer\">\n            <img src={ albumImg } alt={ albumName } />\n            <h4 data-testid=\"album-name\">{ albumName }</h4>\n            <p data-testid=\"artist-name\">{ artist }</p>\n          </section>\n          <section id=\"tracksListContainer\">\n            {musics.map((microObj, index) => (\n              index > 0 && <MusicCard trackInfo={ microObj } key={ microObj.trackId } />\n              // O primeiro elemento do array (índice 0) acumula informações do album e não de uma música específica.\n            ))}\n          </section>\n        </main>\n      </div>\n    );\n  }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  }).isRequired,\n};\n\nexport default Album;\n"]},"metadata":{},"sourceType":"module"}